define([], function () {

    var defaultTemplateSetting = {
        logo: {
            url: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABUCAYAAABjugIwAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYwNjlEQ0VBMzc4MDExRTVBMTM1ODA4NDBERkFDRUY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYwNjlEQ0VCMzc4MDExRTVBMTM1ODA4NDBERkFDRUY0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjA2OURDRTgzNzgwMTFFNUExMzU4MDg0MERGQUNFRjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjA2OURDRTkzNzgwMTFFNUExMzU4MDg0MERGQUNFRjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4b/UcYAAAQFElEQVR42uxd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'
        },
        languages: {
            selected: "en"
        },
        theme: {
            key: ""
        },
        background: null
    };

    var templateSetting = {
        init: init
    };

    return templateSetting;

    function init(settings) {
        //for old user who use reader template default theme should be black
        if (settings && !settings.theme) {
            settings.theme = {
                key: 'black'
            };
        }
        if (!settings.logo || !settings.logo.url) {
            _.extend(settings, { logo: defaultTemplateSetting.logo });
        }

        if (!settings.languages || !settings.languages.selected) {
            _.extend(settings, { languages: defaultTemplateSetting.languages });
        }

        if (!settings.theme || !settings.theme.key) {
            _.extend(settings, { theme: defaultTemplateSetting.key });
        }

        if (!settings.background || !settings.background.image || !settings.background.image.src) {
            _.extend(settings, { background: defaultTemplateSetting.background });
        }

        _.extend(this, settings);

        return settings;
    }

});